@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/* ============================================
   APPLE HUMAN INTERFACE GUIDELINES
   Design System for macOS/iOS
   ============================================ */

:root {
  /* ===== TYPOGRAPHY - San Francisco ===== */
  
  /* Font Families - Apple System Fonts */
  --font-sans: 
    -apple-system, 
    BlinkMacSystemFont,
    "SF Pro Text",
    "Helvetica Neue", 
    Arial, 
    sans-serif;
  
  --font-display: 
    -apple-system,
    "SF Pro Display",
    system-ui, 
    sans-serif;
  
  --font-mono: 
    "SF Mono", 
    Monaco, 
    Menlo,
    monospace;
  
  /* Apple Typography Scale */
  
  /* Caption 1 - 12px */
  --text-caption1-size: 0.75rem;
  --text-caption1-line: 1rem;
  --text-caption1-weight: 400;
  --text-caption1-tracking: 0;
  
  /* Caption 2 - 11px */
  --text-caption2-size: 0.6875rem;
  --text-caption2-line: 0.8125rem;
  --text-caption2-weight: 400;
  --text-caption2-tracking: 0.06em;
  
  /* Footnote - 13px */
  --text-footnote-size: 0.8125rem;
  --text-footnote-line: 1.125rem;
  --text-footnote-weight: 400;
  --text-footnote-tracking: -0.08px;
  
  /* Subheadline - 15px (BUTTONS!) */
  --text-subhead-size: 0.9375rem;
  --text-subhead-line: 1.25rem;
  --text-subhead-weight: 400;
  --text-subhead-tracking: -0.24px;
  
  /* Callout - 16px */
  --text-callout-size: 1rem;
  --text-callout-line: 1.3125rem;
  --text-callout-weight: 400;
  --text-callout-tracking: -0.32px;
  
  /* Body - 17px (Default) */
  --text-body-size: 1.0625rem;
  --text-body-line: 1.375rem;
  --text-body-weight: 400;
  --text-body-tracking: -0.41px;
  
  /* Headline - 17px Semibold */
  --text-headline-size: 1.0625rem;
  --text-headline-line: 1.375rem;
  --text-headline-weight: 600;
  --text-headline-tracking: -0.41px;
  
  /* Title 3 - 20px */
  --text-title3-size: 1.25rem;
  --text-title3-line: 1.5rem;
  --text-title3-weight: 400;
  --text-title3-tracking: 0.38px;
  
  /* Title 2 - 22px */
  --text-title2-size: 1.375rem;
  --text-title2-line: 1.75rem;
  --text-title2-weight: 400;
  --text-title2-tracking: 0.35px;
  
  /* Title 1 - 28px */
  --text-title1-size: 1.75rem;
  --text-title1-line: 2.125rem;
  --text-title1-weight: 400;
  --text-title1-tracking: 0.36px;
  
  /* Large Title - 34px */
  --text-large-title-size: 2.125rem;
  --text-large-title-line: 2.5625rem;
  --text-large-title-weight: 400;
  --text-large-title-tracking: 0.37px;
  
  /* Font Weights */
  --weight-ultralight: 100;
  --weight-thin: 200;
  --weight-light: 300;
  --weight-regular: 400;
  --weight-medium: 500;
  --weight-semibold: 600;
  --weight-bold: 700;
  --weight-heavy: 800;
  --weight-black: 900;
  
  /* ===== COLOR SYSTEM - Apple Colors ===== */
  
  /* Apple Blue - Primary */
  --blue: oklch(0.60 0.14 250);           /* #007AFF */
  --blue-dark: oklch(0.65 0.15 245);      /* Lighter in dark mode */
  
  /* Semantic Colors */
  --red: oklch(0.60 0.22 27);             /* #FF3B30 */
  --orange: oklch(0.70 0.15 70);          /* #FF9500 */
  --yellow: oklch(0.82 0.15 90);          /* #FFCC00 */
  --green: oklch(0.62 0.16 142);          /* #34C759 */
  --teal: oklch(0.62 0.12 200);           /* #5AC8FA */
  --indigo: oklch(0.52 0.18 280);         /* #5856D6 */
  --purple: oklch(0.58 0.18 300);         /* #AF52DE */
  --pink: oklch(0.68 0.20 350);           /* #FF2D55 */
  
  /* Gray Scale - Light Mode */
  --gray-1: oklch(0.98 0 0);              /* Background */
  --gray-2: oklch(0.96 0 0);              /* Secondary background */
  --gray-3: oklch(0.92 0 0);              /* Tertiary background */
  --gray-4: oklch(0.86 0 0);              /* Quaternary background */
  --gray-5: oklch(0.78 0 0);              /* Separator */
  --gray-6: oklch(0.60 0 0);              /* Secondary label */
  --gray-7: oklch(0.42 0 0);              /* Tertiary label */
  --gray-8: oklch(0.24 0 0);              /* Primary label */
  
  /* Light Mode Color Mappings */
  --primary: var(--blue);
  --primary-foreground: oklch(1 0 0);
  --on-primary: var(--primary-foreground);
  
  --secondary: var(--gray-2);
  --secondary-foreground: var(--gray-8);
  --on-secondary: var(--secondary-foreground);
  
  --accent: var(--blue);
  --accent-foreground: oklch(1 0 0);
  --on-accent: var(--accent-foreground);
  
  --destructive: var(--red);
  --destructive-foreground: oklch(1 0 0);
  --on-destructive: var(--destructive-foreground);
  
  --success: var(--green);
  --success-foreground: oklch(1 0 0);
  
  --warning: var(--orange);
  --warning-foreground: var(--gray-8);
  
  --background: var(--gray-1);
  --foreground: var(--gray-8);
  --on-background: var(--foreground);
  
  --card: var(--gray-1);
  --card-foreground: var(--gray-8);
  --on-card: var(--card-foreground);
  
  --popover: oklch(1 0 0);
  --popover-foreground: var(--gray-8);
  
  --muted: var(--gray-2);
  --muted-foreground: var(--gray-6);
  
  --border: var(--gray-4);
  --input: var(--gray-2);
  --ring: var(--blue);
  
  --separator: oklch(0.90 0 0 / 0.3);
  
  /* Chart Colors */
  --chart-1: var(--blue);
  --chart-2: var(--purple);
  --chart-3: var(--pink);
  --chart-4: var(--orange);
  --chart-5: var(--green);
  
  /* ===== SHAPE - Border Radius ===== */
  
  /* Apple Corner Radii */
  --radius-none: 0;
  --radius-xs: 0.25rem;          /* 4px */
  --radius-sm: 0.375rem;         /* 6px */
  --radius-regular: 0.5rem;      /* 8px - BUTTONS */
  --radius-md: 0.625rem;         /* 10px - Cards */
  --radius-lg: 0.875rem;         /* 14px */
  --radius-xl: 1.25rem;          /* 20px */
  --radius-2xl: 1.5rem;          /* 24px */
  
  /* Aliases */
  --radius: var(--radius-regular);
  
  /* ===== SPACING - 8pt Grid ===== */
  
  --space-0: 0;
  --space-1: 0.25rem;    /* 4px */
  --space-2: 0.5rem;     /* 8px - BASE */
  --space-3: 0.75rem;    /* 12px */
  --space-4: 1rem;       /* 16px */
  --space-5: 1.25rem;    /* 20px */
  --space-6: 1.5rem;     /* 24px */
  --space-8: 2rem;       /* 32px */
  --space-10: 2.5rem;    /* 40px */
  --space-12: 3rem;      /* 48px */
  --space-16: 4rem;      /* 64px */
  --space-20: 5rem;      /* 80px */
  
  --spacing: var(--space-2);
  
  /* ===== ELEVATION - Subtle Shadows ===== */
  
  /* Apple-style subtle shadows */
  --shadow-1:
    0 1px 1px rgba(0, 0, 0, 0.04),
    0 0 1px rgba(0, 0, 0, 0.04);
  
  --shadow-2:
    0 1px 2px rgba(0, 0, 0, 0.06),
    0 2px 4px rgba(0, 0, 0, 0.06);
  
  --shadow-3:
    0 2px 4px rgba(0, 0, 0, 0.08),
    0 4px 8px rgba(0, 0, 0, 0.06);
  
  --shadow-4:
    0 4px 8px rgba(0, 0, 0, 0.08),
    0 8px 16px rgba(0, 0, 0, 0.08);
  
  --shadow-5:
    0 8px 16px rgba(0, 0, 0, 0.10),
    0 16px 32px rgba(0, 0, 0, 0.08);
  
  /* Aliases */
  --shadow-2xs: var(--shadow-1);
  --shadow-xs: var(--shadow-1);
  --shadow-sm: var(--shadow-2);
  --shadow: var(--shadow-2);
  --shadow-md: var(--shadow-3);
  --shadow-lg: var(--shadow-4);
  --shadow-xl: var(--shadow-5);
  --shadow-2xl: var(--shadow-5);
  
  /* ===== BLUR & MATERIALS (Optional) ===== */
  
  --blur-sm: blur(8px);
  --blur-md: blur(16px);
  --blur-lg: blur(24px);
  --blur-xl: blur(40px);
  
  --material-regular: rgba(255, 255, 255, 0.7);
  --material-thick: rgba(255, 255, 255, 0.85);
  --material-thin: rgba(255, 255, 255, 0.5);
  
  /* ===== MOTION ===== */
  
  /* Apple Easing - Smoother than standard */
  --ease-in: cubic-bezier(0.42, 0, 1, 1);
  --ease-out: cubic-bezier(0, 0, 0.58, 1);
  --ease-in-out: cubic-bezier(0.42, 0, 0.58, 1);
  --ease-standard: cubic-bezier(0.25, 0.1, 0.25, 1);
  
  /* Durations */
  --duration-instant: 0ms;
  --duration-fast: 150ms;
  --duration-normal: 250ms;
  --duration-slow: 350ms;
  --duration-slower: 500ms;
}

/* ============================================
   DARK MODE
   ============================================ */

.dark {
  /* Gray Scale - Dark Mode */
  --gray-1: oklch(0.12 0 0);              /* Background */
  --gray-2: oklch(0.18 0 0);              /* Secondary background */
  --gray-3: oklch(0.24 0 0);              /* Tertiary background */
  --gray-4: oklch(0.30 0 0);              /* Quaternary background */
  --gray-5: oklch(0.38 0 0);              /* Separator */
  --gray-6: oklch(0.60 0 0);              /* Secondary label */
  --gray-7: oklch(0.70 0 0);              /* Tertiary label */
  --gray-8: oklch(0.92 0 0);              /* Primary label */
  
  /* Colors - Adjusted for dark mode */
  --blue-dark: oklch(0.65 0.15 245);
  --red: oklch(0.68 0.20 27);
  --orange: oklch(0.75 0.14 70);
  --yellow: oklch(0.85 0.14 90);
  --green: oklch(0.68 0.14 142);
  --purple: oklch(0.66 0.16 300);
  
  /* Dark Mode Mappings */
  --primary: var(--blue-dark);
  --primary-foreground: var(--gray-1);
  --on-primary: var(--primary-foreground);
  
  --secondary: var(--gray-2);
  --secondary-foreground: var(--gray-8);
  --on-secondary: var(--secondary-foreground);
  
  --accent: var(--blue-dark);
  --accent-foreground: var(--gray-1);
  
  --destructive: var(--red);
  --destructive-foreground: var(--gray-1);
  
  --background: var(--gray-1);
  --foreground: var(--gray-8);
  
  --card: var(--gray-2);
  --card-foreground: var(--gray-8);
  
  --popover: var(--gray-2);
  --popover-foreground: var(--gray-8);
  
  --muted: var(--gray-3);
  --muted-foreground: var(--gray-6);
  
  --border: var(--gray-4);
  --input: var(--gray-3);
  --ring: var(--blue-dark);
  
  --separator: oklch(0.40 0 0 / 0.3);
  
  /* Materials */
  --material-regular: rgba(28, 28, 30, 0.72);
  --material-thick: rgba(28, 28, 30, 0.85);
  --material-thin: rgba(28, 28, 30, 0.5);
  
  /* Shadows - Slightly stronger in dark mode */
  --shadow-1:
    0 1px 1px rgba(0, 0, 0, 0.24);
  
  --shadow-2:
    0 1px 2px rgba(0, 0, 0, 0.28),
    0 2px 4px rgba(0, 0, 0, 0.24);
  
  --shadow-3:
    0 2px 4px rgba(0, 0, 0, 0.32),
    0 4px 8px rgba(0, 0, 0, 0.28);
  
  --shadow-4:
    0 4px 8px rgba(0, 0, 0, 0.36),
    0 8px 16px rgba(0, 0, 0, 0.32);
  
  --shadow-5:
    0 8px 16px rgba(0, 0, 0, 0.40),
    0 16px 32px rgba(0, 0, 0, 0.36);
}

/* ============================================
   TAILWIND THEME INTEGRATION
   ============================================ */

@theme inline {
  /* Colors */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);

  /* Typography */
  --font-sans: var(--font-sans);
  --font-display: var(--font-display);
  --font-mono: var(--font-mono);

  /* Border Radius */
  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius-md);
  --radius-lg: var(--radius-lg);
  --radius-xl: var(--radius-xl);

  /* Shadows */
  --shadow-2xs: var(--shadow-2xs);
  --shadow-xs: var(--shadow-xs);
  --shadow-sm: var(--shadow-sm);
  --shadow: var(--shadow);
  --shadow-md: var(--shadow-md);
  --shadow-lg: var(--shadow-lg);
  --shadow-xl: var(--shadow-xl);
  --shadow-2xl: var(--shadow-2xl);
}

/* ============================================
   BASE STYLES
   ============================================ */

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground font-sans;
    font-size: var(--text-body-size);
    line-height: var(--text-body-line);
    font-weight: var(--weight-regular);
    letter-spacing: var(--text-body-tracking);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* Typography Elements */
  h1 {
    font-size: var(--text-title1-size);
    line-height: var(--text-title1-line);
    font-weight: var(--weight-regular);
    letter-spacing: var(--text-title1-tracking);
  }
  
  h2 {
    font-size: var(--text-title2-size);
    line-height: var(--text-title2-line);
    font-weight: var(--weight-regular);
    letter-spacing: var(--text-title2-tracking);
  }
  
  h3 {
    font-size: var(--text-title3-size);
    line-height: var(--text-title3-line);
    font-weight: var(--weight-regular);
    letter-spacing: var(--text-title3-tracking);
  }
  
  h4 {
    font-size: var(--text-headline-size);
    line-height: var(--text-headline-line);
    font-weight: var(--weight-semibold);
    letter-spacing: var(--text-headline-tracking);
  }
  
  h5 {
    font-size: var(--text-callout-size);
    line-height: var(--text-callout-line);
    font-weight: var(--weight-semibold);
    letter-spacing: var(--text-callout-tracking);
  }
  
  h6 {
    font-size: var(--text-subhead-size);
    line-height: var(--text-subhead-line);
    font-weight: var(--weight-semibold);
    letter-spacing: var(--text-subhead-tracking);
  }
  
  /* Paragraphs */
  p {
    margin-bottom: var(--space-4);
    line-height: var(--text-body-line);
  }
  
  /* Links */
  a {
    color: var(--primary);
    text-decoration: none;
    transition: opacity var(--duration-fast) var(--ease-out);
  }
  
  a:hover {
    opacity: 0.7;
  }
  
  /* Focus Indicators - Apple Style */
  *:focus-visible {
    outline: 3px solid var(--primary);
    outline-offset: 2px;
    border-radius: var(--radius-xs);
  }
  
  *:focus:not(:focus-visible) {
    outline: none;
  }
  
  /* Selection */
  ::selection {
    background-color: var(--primary);
    color: var(--primary-foreground);
  }
}

/* ============================================
   MOTION PREFERENCES
   ============================================ */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ============================================
   HIGH CONTRAST MODE
   ============================================ */

@media (prefers-contrast: high) {
  :root {
    --foreground: oklch(0 0 0);
    --border: oklch(0 0 0);
  }
  
  .dark {
    --foreground: oklch(1 0 0);
    --border: oklch(1 0 0);
  }
}
